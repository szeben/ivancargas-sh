<odoo>
  <data>

    <record model="ir.ui.view" id="view_tax_form_inherited">
      <field name="name">account.tax.form.inherited</field>
      <field name="model">account.tax</field>
      <field name="inherit_id" ref="account.view_tax_form" />
      <field name="arch" type="xml">

        <xpath expr="//group/label[@for='amount']" position="attributes">
          <attribute name="attrs">{'invisible':['|', ('amount_type', 'not in', ('fixed', 'percent', 'division')), ('withholding_type', '=', 'iva')]}</attribute>
        </xpath>
        <xpath expr="//group/div[1]" position="attributes">
          <attribute name="attrs">{'invisible':['|', ('amount_type', 'not in', ('fixed', 'percent', 'division')), ('withholding_type', '=', 'iva')]}</attribute>
        </xpath>
        <xpath expr="//group/field[@name='tax_scope']" position="after">
          <field name="withholding_type" attrs="{'invisible':[('amount_type', 'not in', ('fixed', 'percent', 'division'))]}" />
          <label for="withholding_amount" attrs="{'invisible':['|', ('amount_type', 'not in', ('fixed', 'percent', 'division')), ('withholding_type', '!=', 'iva')]}"/>
          <div attrs="{'invisible':['|', ('amount_type', 'not in', ('fixed', 'percent', 'division')), ('withholding_type', '!=', 'iva')]}">
            <field name="withholding_amount" class="oe_inline" nolabel="1"/>
            <span class="o_form_label oe_inline" attrs="{'invisible':[('amount_type','=','fixed')]}">%</span>
          </div>
        </xpath>

      </field>
    </record>

    <record id="view_move_form_inherit" model="ir.ui.view">
      <field name="name">account.move.form.inherit</field>
      <field name="model">account.move</field>
      <field name="inherit_id" ref="account.view_move_form" />
      <field name="arch" type="xml">

        <field name="invoice_vendor_bill_id" position="after">
          <field name="invoice_tax_id" attrs="{'invisible': [('move_type', 'not in', ('in_invoice', 'in_refund', 'in_receipt'))], 'readonly': [('state', '!=', 'draft')]}" />
        </field>

        <div name="journal_div" position="after">
          <field name="reference_number" attrs="{'invisible': [('move_type', 'not in', ('in_invoice', 'in_refund', 'in_receipt'))], 'readonly': [('state', '!=', 'draft')]}" />
          <field name="invoice_control_number" attrs="{'invisible': [('move_type', 'not in', ('in_invoice', 'in_refund', 'in_receipt'))], 'readonly': [('state', '!=', 'draft')]}" />
        </div>

        <xpath expr="//sheet/notebook/page/field/tree/field[@name='tax_ids']" position="attributes">
          <attribute name="domain">[('type_tax_use', '=?', parent.invoice_filter_type_domain), ('company_id', '=', parent.company_id), ('country_id', '=', parent.tax_country_id), ('withholding_type', '!=', 'iva')]</attribute>
        </xpath>

      </field>
    </record>

    <record id="view_invoice_tree_inherit" model="ir.ui.view">
      <field name="name">account.invoice.tree.inherit</field>
      <field name="model">account.move</field>
      <field name="inherit_id" ref="account.view_invoice_tree" />
      <field name="arch" type="xml">

        <field name="ref" position="after">
          <field name="withholding_iva" optional="show" invisible="context.get('default_move_type') not in ('in_invoice', 'in_refund','in_receipt')" groups="base.group_user" sum="Total de Retenci贸n del IVA"/>
          <field name="withholding_islr" optional="show" invisible="context.get('default_move_type') not in ('in_invoice', 'in_refund','in_receipt')" groups="base.group_user" sum="Total de Retenci贸n del ISLR"/>
        </field>

      </field>
    </record>

    <record id="secuence_move_withholding_iva" model="ir.sequence">
      <field name="name">Secuencia de la retenci贸n del IVA</field>
      <field name="code">account.move.withholding.iva</field>
      <field name="number_next_actual">1</field>
      <field name="padding">1</field>
    </record>

    <record id="secuence_move_withholding_islr" model="ir.sequence">
      <field name="name">Secuencia de la retenci贸n del ISLR</field>
      <field name="code">account.move.withholding.islr</field>
      <field name="number_next_actual">1</field>
      <field name="padding">1</field>
    </record>

  </data>
</odoo>